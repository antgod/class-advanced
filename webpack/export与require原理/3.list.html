<script>
  

  // var add = require('add.js').default;
  // console.log('add:', add(2, 4));

  const entry = 'index.js';
  
  (function(list){
    function require(file) {
      const exports = {};
      (function(exports, code) {
        eval(code);
      })(exports, list[file]);
      return exports;
    }
    require();
  })({
    'index.js': `
      var add = require('add.js').default;
      console.log(add(2, 4));
    `,
    'add.js': `
      var a = 1;exports.default = function(a, b) { return a + b };
    `,
  });

</script>